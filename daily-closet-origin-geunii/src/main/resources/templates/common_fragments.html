<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css" rel="stylesheet"> <!--CDN 링크 -->
</head>

<!-- fragment 선언 -->

<!-- header -->
<div id="header" th:fragment="header">

    <!-- main Container -->
    <div class="py-1 text-center" id="headlogo">
        <p><br/><h1 id="logo">Daily <br/>Closet</h1></p>
    </div>


    <!-- navigation bar -->
    <nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top" id="navbar">
        <div>
            <a class="navbar-brand" href="/" th:href="@{/}"><p id="navlogo"> Daily Closet</p></a>
        </div>


        <!-- nav에 item 넣기 -->
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto" id="
            nav_left">

                <!--                <li class="nav-item">-->
                <!--                    <a class="nav-link" th:href="@{/logout}" sec:authorize="isAuthenticated()"><h5>Logout</h5></a>-->
                <!--                </li> -> logout을 li가 아닌 form으로 구현-->

                <!-- 컨트롤러 완성 ~ ajax-->
                <!-- sort=name 수정하기 -->
                <!-- 페이징, 정렬 조건 변경하려면 아래 쿼리스트링만 수정하면 하면 된다. -->
                <!-- http://localhost:8080/itemList?categoryName=%EC%83%81%EC%9D%98&page=0&limit=20 -->
                <li class="nav-item">
                    <a id="navp" class="nav-link" th:href="@{/itemList(categoryName='best',page=0,limit=20,sort='name')}">BEST</a>
                </li>
                <li class="nav-item">
                    <a id="navp" class="nav-link" th:href="@{/itemList(categoryName='아우터',page=0,limit=20,sort='name')}">Outer</a>
                </li>
                <li class="nav-item">
                    <a id="navp" class="nav-link" th:href="@{/itemList(categoryName='상의',page=0,limit=20,sort='name')}">Top</a>
                </li>
                <li class="nav-item">
                    <a id="navp" class="nav-link" th:href="@{/itemList(categoryName='바지',page=0,limit=20,sort='name')}">Bottom</a>
                </li>
                <li class="nav-item">
                    <a id="navp" class="nav-link" th:href="@{/itemList(categoryName='신발_스니커즈',page=0,limit=20,sort='name')}">Shoes</a>
                </li>
                <li class="nav-item">
                    <a id="navp" class="nav-link" th:href="@{/itemList(categoryName='가방_여성가방',page=0,limit=20,sort='name')}">Acc</a>
                </li>

                <!-- dropdown -->
                <!--                <li class="nav-item dropdown">-->
                <!--                    <a class="nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expended="false">-->
                <!--                    <div class="dropdown-menu" data-toggle="pill">-->
                <!--                        <a class="dropdown-item">Outer</a>-->
                <!--                        <a class="dropdown-item">Tops</a>-->
                <!--                        <a class="dropdown-item">Bottoms</a>-->
                <!--                        <a class="dropdown-item">Shoes</a>-->
                <!--                        <div class="dropdown-divider"></div>-->
                <!--                        <a class="dropdown-item">Etc.</a>-->
                <!--                    </div>-->
                <!--                    </a>-->
                <!--                </li>-->
            </ul>
        </div>

        <div class="collapse navbar-collapse" id="navbar_right">
            <ul class="navbar-nav mr-auto" id="usernav">

                <li class="nav-item">
                    <a class="navp_right" th:href="@{/memberInfo}" sec:authorize="isAuthenticated()" th:text="${#authentication?.name}"></a>
                    <!--                    <input type="hidden" id="current_user" value='${#authentication.name}'>-->
                </li>
                <li class="nav-item">
                    <a id="navp_right" class="nav-link" th:href="@{/login}" sec:authorize="!isAuthenticated()">Login</a>
                </li>
                <li class="nav-item">
                    <a id="navp_right" class="nav-link" th:href="@{/signup}" sec:authorize="!isAuthenticated()">Sign up</a>
                </li>
                <li class="nav-item">
                    <a id="navp_right" class="nav-link" th:href="@{/cart/list}" sec:authorize="isAuthenticated()">Cart</a>
                </li>

                <li class="nav-item"><a class="nav-link" th:href="@{/store/like-list}" sec:authorize="isAuthenticated()"><i class="fas fa-heart"></i></a></li>

                <li class="nav-item">
                    <a id="navp_right" class="nav-link" th:href="@{/cody}" th:method="get" sec:authorize="isAuthenticated()">Cody</a>
                </li>

                <form class="form-inline" th:action="@{/logout}" th:method="post" >
                    <button type="submit" id="logoutbtn" class="nav-item" sec:authorize="isAuthenticated()">Logout</button>
                </form>
            </ul>
            <!-- 재우 -->
            <!-- Search bar -->
            <form class="form-inline my-2 my-lg-0" th:action="@{/}" th:method="get">
                <select id="searchType" name="searchType">
                    <option th:value="item_all" >전체</option>
                    <option th:value="item_name">상품명</option>
                    <option th:value="brand_name" >브랜드명</option>

                </select>
                <input class="form-control mr-sm-2" name="keyword" id="keyword" type="search" placeholder="Search" aria-label="Search">
                <button class="btn btn-outline-light my-2 my-sm-0" type="submit">search</button>
            </form>
        </div>
    </nav>
    <div class="alert alert-warning" role="alert" th:if="${member != null && !member.emailVerified}">
        Please check your <a class="alert-link">account certification email</a>.

    </div>
</div>



<!-- footer -->
<div id="footer" th:fragment="footer" class="jumbotron text-center bg-white banner" style="margin-bottom: 0">


    <small>&copy;2021. Daily Closet. All Rights Reserved.</small>
</div>

</html>